{% macro attachment_macro(attachment) %}
    <div class="column is-10">
        <div class="box has-background-grey-darker">
            <h3 class="title is-3" id="attachment-{{ attachment.attachment_item_id }}">
                {{ attachment.name }}{{ " (default)" if attachment.is_default else "" }}
            </h3>

            {% if attachment.description %}
                <h5 class="title is-5">{{ attachment.description }}</h5>
            {% endif %}

            {% if attachment.image_path and attachment.is_default is false %}
                <figure class="image">
                    <img
                        src="https://census.daybreakgames.com{{ attachment.image_path }}"
                        width="256"
                        height="128"
                        style="max-width: 100%; width: auto"
                    />
                </figure>
            {% endif %}

            {% if attachment.effects %}
                <h4 class="title is-4 has-text-centered">Effects</h4>

                <div class="columns is-multiline is-vcentered">
                    {% for effect in attachment.effects %}
                        <div class="column">
                            <div class="box">
                                <table class="is-table is-narrow">
                                    <tbody>
                                        {% for attachment_effect_key, attachment_effect_value in effect|items %}
                                            <tr>
                                                <th>{{ attachment_effect_key }}</th>
                                                <td>{{ attachment_effect_value }}</td>
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>No listed effects</p>
            {% endif %}
        </div>
    </div>
{% endmacro %}
